<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Insekten in Lebensmitteln</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WDZG766778"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-WDZG766778');
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/style.css">
    <script src="./InsektenInLebensmitteln.min.js"></script>
    <script>
        document.addEventListener(
            'DOMContentLoaded',
            event => {
                const productsViewActivity =
                    new ProductsViewActivity(
                        {
                            productsContainer: document.getElementById('products'),
                            categoryText: document.getElementById('categoryText'),
                            prevBtn: document.getElementById('prevBtn'),
                            searchUI: {
                                form: document.querySelector('#searchform'),
                                input: document.querySelector('#searchInput'),
                                productsContainer: document.getElementById('productsSearch')
                            },
                            overlay: {
                                openButton: document.getElementById('openSearchButton'),
                                closeButton: document.getElementById('closeSearchButton'),
                                container: document.getElementById("searchOverlay")
                            }
                        }
                    );
                productsViewActivity.start();
            });
    </script>
</head>

<body>
    <div class="rootContainer">
        <div class="topnav">
            <button id="prevBtn" class="tablink">
                <img src="img/back-svgrepo-com.svg" />
            </button>
            <div id="categoryText" class="tablink"></div>
            <button id="openSearchButton" class="openBtn"><i class="fa fa-search"></i></button>
        </div>

        <div class="body">
            <div class="main">
                <div class="pageContent">
                    <h1>Diese Lebensmittel enthalten Insekten:</h1>
                    <!-- FK-TODO: rename products to productsAndCategories. Dito accompanying variable names in js code -->
                    <div id="products"></div>
                    <a
                        href='https://play.google.com/store/apps/details?id=de.foodIngredientsScanner&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'><img
                            alt='Jetzt bei Google Play'
                            src='https://play.google.com/intl/en_us/badges/static/images/badges/de_badge_web_generic.png' /></a>
                </div>
            </div>
        </div>
    </div>

    <div id="searchOverlay" class="overlay">
        <span id="closeSearchButton" class="closebtn" title="Close Overlay">Ã—</span>
        <div class="overlay-content">
            <div class="rootContainer">
                <div class="body">
                    <div class="main">
                        <div class="pageContent">
                            <div class="search-container">
                                <form id="searchform">
                                    <input type="text" id="searchInput" placeholder="Produkt oder Marke" name="search">
                                    <button type="submit"><i class="fa fa-search"></i></button>
                                </form>
                            </div>
                            <div id="productsSearch"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <template id="template-ProductCardView">
            <div class="card" style="display: inline-block;">
                <img class="product_image" loading="lazy" />
                <div class="product_name"></div>
                <div>
                    <span>Zutaten:</span>
                    <span class="unwantedIngredients"></span>
                </div>
                <div>
                    <span>Marken:</span>
                    <span class="brands"></span>
                </div>
            </div>
        </template>

        <template id="template-CategoryCardView">
            <div class="card" style="display: inline-block;">
                <div class="category_name"></div>
            </div>
        </template>
</body>

</html>